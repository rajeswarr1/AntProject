<aura:component
  controller="OIFGrid"
  implements="force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,forceCommunity:availableForAllPageTypes,force:lightningQuickActionWithoutHeader"
  access="global"
>
  <aura:handler name="init" value="{!this}" action="{!c.doInit}" />
  <aura:attribute
    name="LockRec"
    type="String"
    description="Return attribute for error messages"
  />
  <aura:attribute name="recordId" type="Id" description="Opportunity Id" />
  <aura:attribute name="gridName" type="String" description="Opportunity Id" />
  <aura:attribute
    name="Oppdata"
    type="String"
    description="Return opportunity Information"
  />
  <aura:attribute name="popup" type="Boolean" default="false" />
  <aura:if isTrue="{!v.popup}">
    <div
      style="
        position: relative;
        left: 400px;
        padding: 12px;
        font-style: italic;
        top: 45px;
        margin-top: -50px;
        width: fit-content;
      "
    >
      <p>
        Click on <strong>Refresh</strong> to see the latest opportunity and OIF
        changes reflected in this Grid.
      </p>
    </div>
    <aura:set attribute="else">
      <div
        style="
          position: absolute;
          left: 400px;
          padding: 12px;
          font-style: italic;
          top: 150ppx;
        "
      >
        <p>
          Click on <strong>Refresh</strong> to see the latest opportunity and
          OIF changes reflected in this Grid.
        </p>
      </div>
    </aura:set>
  </aura:if>
  <iframe
    id="gridFrame"
    http-equiv="refresh"
    scrolling="auto"
    height="300"
    width="100%"
    frameborder="0"
    src="{!'/apex/gblite__Grid?gname=Competitor+Grid&amp;fpf=Id&amp;fpv='+ v.recordId + '&amp;sh=0&amp;ssb=0&amp;sbb=1&amp;ro='+v.LockRec+''}"
  />
  <div />
  <iframe
    id="gridFrame"
    http-equiv="refresh"
    scrolling="auto"
    height="550"
    width="100%"
    frameborder="0"
    src="{!'/apex/gblite__Grid?gname='+v.gridName+'&amp;fpf=Opportunity__c&amp;fpv='+ v.recordId + '&amp;sh=0&amp;ssb=0&amp;sbb=1&amp;ro='+v.LockRec+''}"
  />
  <div></div>
</aura:component>
<aura:component controller="CH_CaseField_SideHighlightApex" implements="force:hasSObjectName,force:hasRecordId,force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,forceCommunity:availableForAllPageTypes,force:lightningQuickAction" access="global">
    <aura:attribute name="recordId" type="String"/>
    <lightning:workspaceAPI aura:id="workspace"/>
    <aura:attribute name="headerTitle" type="Aura.Component[]">
        <h1>
            <b>Case Info</b>
        </h1>
    </aura:attribute>
    <!--NOKIASC-34727-->
    <aura:attribute name="validUser" type="Boolean" default="false"/>
    <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>
    <aura:handler event="force:refreshView" action="{!c.doInit}" />
    <aura:attribute name="Spinner" type="boolean" default="false"/>
    <aura:if isTrue="{!v.Spinner}">
        <lightning:spinner variant="brand"  size="medium" />
    </aura:if>
    <lightning:messages />
    
    <lightning:card class="slds-text-heading_small" title="{!v.headerTitle}">
        <lightning:layout horizontalAlign="Left">
            <lightning:layoutItem flexibility="auto" padding="around-small">
                <lightning:recordViewForm aura:id="recordEditForm" 
                                          recordId="{!v.recordId}"
                                          objectApiName="Case">
                    <Lightning:messages />
                    <div class="slds-grid slds-gutters">
                        <div class="slds-col">
                            <div class="slds-form-element">
                                <div class="slds-form-element__control">
                                    <lightning:outputfield fieldName="CH_OwnerName__c" />
                                </div>
                            </div>
                        </div>
                        <div class="slds-col">
                            <div class="slds-form-element">
                                <div class="slds-form-element__control">
								<!--34690-->
                                    <lightning:buttonIcon iconName="utility:change_owner" variant="bare" alternativeText="Re-assign" onclick="{! c.handleReaasign }"/>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slds-grid slds-gutters">
                            <div class="slds-col">
                                <div class="slds-form-element">
                                    <div class="slds-form-element__control">
                                        <lightning:outputfield fieldName="CH_Workgroup__c" />
                                    </div>
                                </div>
                            </div>
                            <div class="slds-col">
                                <div class="slds-form-element">
                                    <div class="slds-form-element__control">
                                        <lightning:buttonIcon iconName="utility:edit" variant="bare" onclick="{! c.openWorkGroupInstruction }" alternativeText="Show WG Instructions" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    
                    <!--NOKIASC-34727-->
                     <aura:if isTrue="{!v.validUser}">
                        <div class="slds-grid slds-gutters">
                            <div class="slds-col">
                                <div class="slds-form-element">
                                    <div class="slds-form-element__control">
                                        <lightning:button class="slds-m-top_small" variant="brand" type="button" name="update" label="Accept Ownership" onclick="{!c.acceptOwner}"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </aura:if>
                </lightning:recordViewForm>
				
            </lightning:layoutItem>
        </lightning:layout>
    </lightning:card>
</aura:component>
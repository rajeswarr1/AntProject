<aura:component controller="CLM_AgrmntCustomActionsCtrl" implements="force:hasRecordId,force:appHostable,flexipage:availableForRecordHome,force:hasRecordId,force:lightningQuickAction" access="global" >
    <aura:attribute name="recordId" type="String" />
    <aura:attribute name="accountId" type="String" />
    <aura:attribute name="usersLst" type="object"/>
    <aura:attribute name="userRecd" type="object"/>
    <aura:attribute name="data" type="Object"/>
    <aura:attribute name="columns" type="List"/>
    <aura:attribute name="isOpen" type="boolean" default="false"/>
    <aura:attribute name="selectedRowsCount" type="Integer" default="0"/>
    <aura:attribute name="maxRowSelection" type="Integer" default="1"/>
    <aura:attribute name="spinner" type="boolean" default="false"/>
    <aura:attribute name="enableButton" type="boolean" default="true"/>
    <aura:attribute name="showError" type="boolean" default="false"/>
    <aura:attribute name="messageInModal" type="string" />
    <aura:attribute name="errorMessage" type="string" />
    <aura:attribute name="objType" type="string" />
    <aura:dependency resource="markup://force:navigateToSObject" type="EVENT"/>
    <aura:handler name="init" value="{!this}" action="{!c.doInit}" />
    <!--<div class="slds-box slds-theme_default"><br/>-->
    <div class="c-container">
        <div class="slds-m-around_xx-large">
            <aura:if isTrue="{!v.showError}">
                <!-- Show the message to ui -->
                <div class="slds-notify slds-notify_toast slds-theme_error">
                    <span class="slds-assistive-text">error</span>
                    <div class="slds-notify__content">
                        <h5 class="slds-text-heading_small slds-align_absolute-center">Error Message </h5>
                        <br/>
                        <p class="slds-align_absolute-center">{!v.errorMessage}</p>                
                    </div>
                </div>
            </aura:if>
            <div class="slds-page-header">
                <p class="slds-text-heading--label"><b>Users</b></p>
                <h1><b>Select a Contract Manager or Legal Counsel</b>
                </h1>
            </div>
            <div style="height: 350px">
                <div class="slds-border_top slds-border_right slds-border_bottom slds-border_left slds-scrollable_y">
                    <lightning:datatable
                                         columns="{!v.columns}"
                                         data="{!v.usersLst}"
                                         keyField="id"
                                         hideCheckboxColumn="false"
                                         maxRowSelection="{!v.maxRowSelection}"
                                         onrowselection="{!c.selectedAgreement}"/>
                    
                </div>
                
            </div>
            <br/><br/>
            <div class="slds-align_absolute-center">
                
                <lightning:button variant="brand" 
                                  label="Select"
                                  title=""
                                  onclick="{!c.createAgreementTeam}" disabled="{!v.enableButton}"/>
                <lightning:button variant="neutral" 
                                  label="Cancel"
                                  title=""
                                  onclick="{!c.cancel}"/>
            </div>  
            <aura:if isTrue="{!v.spinner}">
                <lightning:spinner alternativeText="Loading" size="large" />
            </aura:if>
            <aura:if isTrue="{!v.isOpen}">
                <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
                    <div class="slds-modal__container">
                        <header class="slds-modal__header">
                            <lightning:buttonIcon iconName="utility:close"
                                                  onclick="{! c.cancel }"
                                                  alternativeText="close"
                                                  variant="bare-inverse"
                                                  class="slds-modal__close"/>
                            <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">Message</h2>
                        </header>
                        <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                            <p><b>{!v.messageInModal}
                                </b>
                            </p>
                        </div>
                        <footer class="slds-modal__footer">
                            <lightning:button variant="neutral" 
                                              label="Ok"
                                              title="Ok"
                                              onclick="{! c.cancel }"/>
                            <!--<lightning:button variant="brand" 
                                          label="Like and Close"
                                          title="Like and Close"
                                          onclick="{! c.likenClose }"/>-->
                        </footer>
                    </div>
                </section>
                <div class="slds-backdrop slds-backdrop_open"></div>
                
            </aura:if>
        </div>
    </div>
    
</aura:component>